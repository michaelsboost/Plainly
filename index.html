<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <title>Plainly – Markdown Writing Made Seamless</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, interactive-widget=resizes-content">
    <meta name="description" content="Create Markdown files with live preview and export to DOCX, PDF, and more – right in your browser.">
    <meta name="author" content="Michael Schwartz">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Plainly">
    <meta name="theme-color" content="hsl(205deg 18.75% 87.45%)">
    <meta name="apple-mobile-web-app-title" content="Plainly">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="msapplication-starturl" content="./index.html">
    <meta name="msapplication-navbutton-color" content="hsl(205deg 18.75% 87.45%)">
    <meta property="og:url" content="https://michaelsboost.com/Plainly" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Plainly" />
    <meta property="og:description" content="Create Markdown files with live preview and export to DOCX, PDF, and more – right in your browser." />
    <meta property="og:image"       content="https://raw.githubusercontent.com/michaelsboost/Plainly/main/imgs/screenshot.jpeg" />
    <link rel="manifest" href="manifest.json">
    <link rel="shortcut icon" type="image/x-icon" href="imgs/logo.svg">
    <link rel="icon" type="image/svg+xml" href="imgs/logo.svg" />
    <link rel="apple-touch-icon" href="imgs/logo.svg">
    <link rel="stylesheet" href="dist/bundle.css">
    <script src="libraries/FileSaver.min.js"></script>
    <script src="libraries/marked.min.js"></script>
    <script src="libraries/index.umd.js"></script>
    <script src="libraries/html2pdf.bundle.min.js"></script>
    <script src="libraries/turndown.min.js"></script>
  </head>
  <body>
    <div class="flex flex-col-reverse sm:flex-col absolute inset-0 overflow-hidden">
      <!-- menubar -->
      <div class="flex-[0] border-0 border-b border-solid border-gray-800" data-theme="border">
        <div class="flex justify-between items-center overflow-auto">
          <button id="icon" aria-label="open menu" name="open menu" class="border-0 bg-transparent text-sm focus:shadow-none" style="color: unset;" onclick="toggleEditor()">
            <svg class="h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" color="currentColor">
                <!-- First path -->
                <path d="M10.55 3c-3.852.007-5.87.102-7.159 1.39C2 5.783 2 8.022 2 12.5s0 6.717 1.391 8.109C4.783 22 7.021 22 11.501 22c4.478 0 6.717 0 8.108-1.391c1.29-1.29 1.384-3.307 1.391-7.16" stroke-dasharray="60" stroke-dashoffset="60">
                  <animate attributeName="stroke-dashoffset" dur="0.2s" values="60;0" fill="freeze"></animate>
                </path>
                
                <!-- Second path -->
                <path d="M11.056 13C10.332 3.866 16.802 1.276 21.98 2.164c.209 3.027-1.273 4.16-4.093 4.684c.545.57 1.507 1.286 1.403 2.18c-.074.638-.506.95-1.372 1.576c-1.896 1.37-4.093 2.234-6.863 2.396" stroke-dasharray="50" stroke-dashoffset="50">
                  <animate attributeName="stroke-dashoffset" dur="0.2s" values="50;0" fill="freeze" begin="0.2s"></animate>
                </path>
                
                <!-- Third path -->
                <path d="M9 17c2-5.5 3.96-7.364 6-9" stroke-dasharray="15" stroke-dashoffset="15">
                  <animate attributeName="stroke-dashoffset" dur="0.5s" values="15;0" fill="freeze" begin="0.5s"></animate>
                </path>
              </g>
            </svg>
          </button>
          
          <div class="p-1 w-full">
            <input id="projectName" type="text" class="text-center" style="margin: 0;" placeholder="filename" oninput="PlainlyState.name = this.value; autosavePlainly();">
          </div>
          
          <button aria-label="open menu" name="open menu" class="border-0 bg-transparent text-red-400 text-sm focus:shadow-none" onclick="openMenu()">
            <svg class="h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <g fill="none" stroke="currentColor" stroke-dasharray="20" stroke-dashoffset="20" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                <path d="M4 9h17">
                  <animate fill="freeze" attributeName="stroke-dashoffset" dur="0.2s" values="20;0"></animate>
                </path>
                <path d="M3 15h17">
                  <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.2s" dur="0.2s" values="20;0"></animate>
                </path>
                <path d="M10 3l-2 18">
                  <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.5s" dur="0.2s" values="20;0"></animate>
                </path>
                <path d="M16 3l-2 18">
                  <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.7s" dur="0.2s" values="20;0"></animate>
                </path>
              </g>
            </svg>
          </button>
        </div>
      </div>
      
      <div class="flex flex-[1] flex-col flex-col-reverse sm:flex-row">
        <div class="flex flex-[1] flex-col flex-col-reverse md:flex-col relative w-full sm:w-96 h-full border-0 border-t sm:border-0 sm:border-r border-solid border-gray-800" data-theme="border" data-panel="code"> 
          <div class="relative h-full">
            <textarea id="input" class="w-full h-full resize-none rounded-none m-0 text-sm bg-transparent border-0" style="color: unset;" placeholder="Markdown code here..." oninput="
                PlainlyState.md = this.value;
                autosavePlainly();
                updatePreview();"></textarea>
          </div>
        </div>
      
        <div data-panel="preview" class="flex-[1] w-full overflow-hidden flex">
          <div class="relative w-full h-full border-0 overflow-auto p-4">
            <nav class="absolute inset-0 flex flex-col">
              <div class="flex-[2] overflow-hidden">
                <div class="relative grid grid-cols-1 align-center items-center w-full h-full">
                  <div id="previewElm" class="relative grid grid-cols-1 align-center items-center w-full h-full">
                    <iframe id="iframe" class="bg-white" style="width: 100%; height: 100%" allowfullscreen="true" allowtransparency="false" sandbox="allow-downloads allow-forms allow-modals allow-pointer-lock allow-popups-to-escape-sandbox allow-popups allow-presentation allow-same-origin allow-scripts allow-top-navigation-by-user-activation" loading="lazy" src="blob:https://michaelsboost.com/"></iframe>
                  </div>
                </div>
              </div>
            </nav>
          </div>
        </div>
      </div> 
    </div>

    <script src="dist/script.js" type="module"></script>
    <script src="https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-sw.js"></script>
    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('./sw.js').then(reg => {
          reg.addEventListener('updatefound', () => {
            const newSW = reg.installing;
            newSW.addEventListener('statechange', () => {
              if (newSW.state === 'installed' && navigator.serviceWorker.controller) {
                // Notify the user and reload if they confirm
                if (confirm('A new version is available. Reload now?')) {
                  window.location.reload();
                }
              }
            });
          });
        });

        // Ensure immediate activation of a new service worker
        navigator.serviceWorker.ready.then(registration => {
          registration.active.postMessage({ type: 'SKIP_WAITING' });
        });
      }
    </script>
  </body>
</html>